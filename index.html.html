<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bet.Analytix Pro</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/prop-types@15.7.2/prop-types.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recharts@2.5.0/umd/Recharts.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; background: #0f172a; }
        #error-container {
            color: orange;
            font-size: 16px;
            margin: 12px;
            min-height: 120px;
            overflow-y: auto;
            border: 1px solid orange;
            padding: 10px;
            border-radius: 8px;
            background-color: #ff96000d;
            display: none;
        }
    </style>
</head>
<body>
    <div id="artifact_react"></div>
    <div id="error-container"></div>
    <script type="text/babel">
    try {

const { useState, useEffect, useRef } = React;
const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Area, AreaChart } = Recharts;

const UNIT_VALUE = 40;

const defaultEsportes = ['Futebol', 'Basquete', 'Tenis', 'MMA', 'eSports', 'Volei'];
const defaultCategorias = ['Anytime', 'Assist', 'Over/Under', 'Handicap', 'Resultado Final', 'Ambas Marcam', 'Cantos'];
const defaultCasas = ['Bet365', 'Betano', 'Sportingbet', 'Pixbet', 'KTO', 'Novibet', 'Betfair'];
const defaultTipsters = ['Proprio'];

const casaCores = {
  'Bet365': '#4ade80',
  'Betano': '#f97316',
  'Sportingbet': '#ef4444',
  'Pixbet': '#a855f7',
  'KTO': '#3b82f6',
  'Novibet': '#14b8a6',
  'Betfair': '#eab308'
};

function loadData(key, fallback) {
  try {
    const d = localStorage.getItem(key);
    return d ? JSON.parse(d) : fallback;
  } catch { return fallback; }
}

function App() {
  const [apostas, setApostas] = useState(() => loadData('bp_apostas', []));
  const [esportes, setEsportes] = useState(() => loadData('bp_esportes', defaultEsportes));
  const [categorias, setCategorias] = useState(() => loadData('bp_categorias', defaultCategorias));
  const [casas, setCasas] = useState(() => loadData('bp_casas', defaultCasas));
  const [tipsters, setTipsters] = useState(() => loadData('bp_tipsters', defaultTipsters));

  const [data, setData] = useState(new Date().toISOString().split('T')[0]);
  const [esporte, setEsporte] = useState('');
  const [categoria, setCategoria] = useState('');
  const [casa, setCasa] = useState('');
  const [descricao, setDescricao] = useState('');
  const [odd, setOdd] = useState('');
  const [valor, setValor] = useState('');
  const [tipster, setTipster] = useState('');

  const [filtro, setFiltro] = useState('todos');
  const [filtroInicio, setFiltroInicio] = useState('');
  const [filtroFim, setFiltroFim] = useState('');
  const [mostrarGrafico, setMostrarGrafico] = useState(true);
  const [mostrarGerenciar, setMostrarGerenciar] = useState(false);

  const [addingEsporte, setAddingEsporte] = useState(false);
  const [addingCategoria, setAddingCategoria] = useState(false);
  const [addingCasa, setAddingCasa] = useState(false);
  const [addingTipster, setAddingTipster] = useState(false);
  const [newEsporte, setNewEsporte] = useState('');
  const [newCategoria, setNewCategoria] = useState('');
  const [newCasa, setNewCasa] = useState('');
  const [newTipster, setNewTipster] = useState('');

  useEffect(() => { localStorage.setItem('bp_apostas', JSON.stringify(apostas)); }, [apostas]);
  useEffect(() => { localStorage.setItem('bp_esportes', JSON.stringify(esportes)); }, [esportes]);
  useEffect(() => { localStorage.setItem('bp_categorias', JSON.stringify(categorias)); }, [categorias]);
  useEffect(() => { localStorage.setItem('bp_casas', JSON.stringify(casas)); }, [casas]);
  useEffect(() => { localStorage.setItem('bp_tipsters', JSON.stringify(tipsters)); }, [tipsters]);

  const getFiltered = () => {
    const agora = new Date();
    return apostas.filter(a => {
      const d = new Date(a.data + 'T12:00:00');
      if (filtro === '1d') { const l = new Date(agora); l.setDate(l.getDate()-1); l.setHours(0,0,0,0); return d >= l; }
      if (filtro === '7d') { const l = new Date(agora); l.setDate(l.getDate()-7); l.setHours(0,0,0,0); return d >= l; }
      if (filtro === '30d') { const l = new Date(agora); l.setDate(l.getDate()-30); l.setHours(0,0,0,0); return d >= l; }
      if (filtro === 'custom') {
        if (filtroInicio && d < new Date(filtroInicio + 'T00:00:00')) return false;
        if (filtroFim && d > new Date(filtroFim + 'T23:59:59')) return false;
      }
      return true;
    });
  };

  const lista = getFiltered();
  const resolvidas = lista.filter(a => a.resultado !== 'PENDING');
  const greens = lista.filter(a => a.resultado === 'GREEN').length;
  const reds = lista.filter(a => a.resultado === 'RED').length;
  const pends = lista.filter(a => a.resultado === 'PENDING').length;
  const totalApostadoRes = resolvidas.reduce((s, a) => s + (parseFloat(a.valor) || 0), 0);
  const totalRetorno = resolvidas.reduce((s, a) => {
    if (a.resultado === 'GREEN') return s + (parseFloat(a.valor) * parseFloat(a.odd));
    return s;
  }, 0);
  const lucro = totalRetorno - totalApostadoRes;
  const lucroU = lucro / UNIT_VALUE;
  const roi = totalApostadoRes > 0 ? (lucro / totalApostadoRes) * 100 : 0;
  const taxa = (greens + reds) > 0 ? (greens / (greens + reds)) * 100 : 0;

  const sorted = [...lista].sort((a, b) => new Date(a.data) - new Date(b.data));
  const resolved = sorted.filter(a => a.resultado !== 'PENDING');
  let acum = 0;
  const chartData = resolved.map(a => {
    const v = parseFloat(a.valor) || 0;
    const o = parseFloat(a.odd) || 0;
    if (a.resultado === 'GREEN') acum += (v * o - v) / UNIT_VALUE;
    else if (a.resultado === 'RED') acum -= v / UNIT_VALUE;
    return { name: a.data.split('-').reverse().join('/'), units: parseFloat(acum.toFixed(2)) };
  });

  const addAposta = () => {
    if (!data || !odd || !valor) { alert('Preencha Data, Odd e Valor!'); return; }
    const nova = { id: Date.now(), data, esporte, categoria, casa, descricao, odd, valor, tipster, resultado: 'PENDING' };
    setApostas(prev => [nova, ...prev]);
    setEsporte(''); setCategoria(''); setCasa(''); setDescricao(''); setOdd(''); setValor(''); setTipster('');
  };

  const deleteAposta = (id) => {
    if (window.confirm('Deseja realmente excluir esta aposta?')) {
      setApostas(prev => prev.filter(a => a.id !== id));
    }
  };

  const updateResult = (id, resultado) => {
    setApostas(prev => prev.map(a => a.id === id ? {...a, resultado} : a));
  };

  const addToList = (tipo) => {
    if (tipo === 'esporte' && newEsporte.trim()) { setEsportes(p => [...p, newEsporte.trim()]); setNewEsporte(''); setAddingEsporte(false); }
    if (tipo === 'categoria' && newCategoria.trim()) { setCategorias(p => [...p, newCategoria.trim()]); setNewCategoria(''); setAddingCategoria(false); }
    if (tipo === 'casa' && newCasa.trim()) { setCasas(p => [...p, newCasa.trim()]); setNewCasa(''); setAddingCasa(false); }
    if (tipo === 'tipster' && newTipster.trim()) { setTipsters(p => [...p, newTipster.trim()]); setNewTipster(''); setAddingTipster(false); }
  };

  const removeFromList = (tipo, item) => {
    if (tipo === 'esporte') setEsportes(p => p.filter(e => e !== item));
    if (tipo === 'categoria') setCategorias(p => p.filter(e => e !== item));
    if (tipo === 'casa') setCasas(p => p.filter(e => e !== item));
    if (tipo === 'tipster') setTipsters(p => p.filter(e => e !== item));
  };

  const stakeHint = valor ? (parseFloat(valor) / UNIT_VALUE).toFixed(2) + 'u' : '';

  const DropdownField = ({label, value, onChange, items, adding, setAdding, newVal, setNewVal, addType}) => (
    <div>
      <div style={{display:'flex',gap:'4px',alignItems:'center'}}>
        <select value={value} onChange={e => onChange(e.target.value)}
          style={{flex:1,background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',padding:'10px 12px',borderRadius:'8px',fontSize:'14px',outline:'none'}}>
          <option value="">{label}</option>
          {items.map(i => <option key={i} value={i}>{i}</option>)}
        </select>
        <button onClick={() => setAdding(!adding)}
          style={{background:'#6366f1',color:'#fff',width:'36px',height:'38px',fontSize:'18px',fontWeight:'bold',border:'none',borderRadius:'8px',cursor:'pointer',flexShrink:0}}>+</button>
      </div>
      {adding && (
        <div style={{display:'flex',gap:'4px',marginTop:'4px'}}>
          <input value={newVal} onChange={e => setNewVal(e.target.value)}
            onKeyDown={e => e.key === 'Enter' && addToList(addType)}
            placeholder={'Novo ' + label}
            style={{flex:1,padding:'8px',fontSize:'13px',background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',borderRadius:'6px',outline:'none'}} />
          <button onClick={() => addToList(addType)}
            style={{background:'#22c55e',color:'#fff',padding:'8px 12px',fontWeight:'bold',border:'none',borderRadius:'6px',cursor:'pointer'}}>OK</button>
        </div>
      )}
    </div>
  );

  const filtros = ['todos','1d','7d','30d','custom'];
  const filtroLabels = {todos:'Todos','1d':'1 Dia','7d':'7 Dias','30d':'30 Dias',custom:'Personalizado'};

  return (
    <div style={{maxWidth:'1400px',margin:'0 auto',padding:'20px',fontFamily:"'Segoe UI',Tahoma,sans-serif",color:'#e2e8f0',minHeight:'100vh',background:'#0f172a'}}>

      <div style={{marginBottom:'24px'}}>
        <h1 style={{fontSize:'28px',fontWeight:700}}>Bet.Analytix Pro</h1>
        <div style={{color:'#64748b',fontSize:'14px',marginTop:'4px'}}>Controle profissional com filtros e analise por periodo</div>
        <div style={{color:'#22c55e',fontSize:'12px',marginTop:'2px'}}>Salvamento automatico | 1u = R$ {UNIT_VALUE.toFixed(2)}</div>
      </div>

      {/* Stats */}
      <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(200px,1fr))',gap:'16px',margin:'24px 0'}}>
        <div style={{borderRadius:'12px',padding:'20px',border:'1px solid #334155',background:'linear-gradient(135deg,#1e293b,#1a1f3a)'}}>
          <div style={{color:'#94a3b8',fontSize:'12px',fontWeight:600,textTransform:'uppercase'}}>Banca</div>
          <div style={{fontSize:'24px',fontWeight:700,marginTop:'4px',color:'#e2e8f0'}}>R$ {lucro.toFixed(2)}</div>
          <div style={{fontSize:'12px',marginTop:'2px',color:lucroU>=0?'#22c55e':'#ef4444'}}>{lucroU>=0?'+':''}{lucroU.toFixed(2)}u</div>
        </div>
        <div style={{borderRadius:'12px',padding:'20px',border:'1px solid #334155',background:'linear-gradient(135deg,#1e293b,#1a2f1a)'}}>
          <div style={{color:'#94a3b8',fontSize:'12px',fontWeight:600,textTransform:'uppercase'}}>ROI</div>
          <div style={{fontSize:'24px',fontWeight:700,marginTop:'4px',color:roi>=0?'#22c55e':'#ef4444'}}>{roi.toFixed(2)}%</div>
          <div style={{fontSize:'12px',marginTop:'2px',color:lucroU>=0?'#22c55e':'#ef4444'}}>{lucroU>=0?'+':''}{lucroU.toFixed(2)}u</div>
        </div>
        <div style={{borderRadius:'12px',padding:'20px',border:'1px solid #334155',background:'linear-gradient(135deg,#1e293b,#1a1a3a)'}}>
          <div style={{color:'#94a3b8',fontSize:'12px',fontWeight:600,textTransform:'uppercase'}}>Taxa</div>
          <div style={{fontSize:'24px',fontWeight:700,marginTop:'4px',color:'#e2e8f0'}}>{taxa.toFixed(1)}%</div>
          <div style={{fontSize:'12px',marginTop:'2px',color:'#94a3b8'}}>{greens}W / {reds}L</div>
        </div>
        <div style={{borderRadius:'12px',padding:'20px',border:'1px solid #334155',background:'linear-gradient(135deg,#1e293b,#2a1a1a)'}}>
          <div style={{color:'#94a3b8',fontSize:'12px',fontWeight:600,textTransform:'uppercase'}}>Total</div>
          <div style={{fontSize:'24px',fontWeight:700,marginTop:'4px',color:'#e2e8f0'}}>{lista.length}</div>
          <div style={{fontSize:'12px',marginTop:'2px',color:'#94a3b8'}}>{pends > 0 ? pends + ' pendentes' : 'Todas resolvidas'}</div>
        </div>
      </div>

      {/* Form */}
      <div style={{background:'#1e293b',borderRadius:'12px',padding:'20px',marginBottom:'24px',border:'1px solid #334155'}}>
        <h3 style={{color:'#e2e8f0',fontSize:'16px',marginBottom:'16px'}}>+ Nova Aposta</h3>
        <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(200px,1fr))',gap:'12px'}}>
          <input type="date" value={data} onChange={e => setData(e.target.value)}
            style={{background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',padding:'10px 12px',borderRadius:'8px',fontSize:'14px',outline:'none'}} />
          <DropdownField label="Esporte" value={esporte} onChange={setEsporte} items={esportes}
            adding={addingEsporte} setAdding={setAddingEsporte} newVal={newEsporte} setNewVal={setNewEsporte} addType="esporte" />
          <DropdownField label="Categoria" value={categoria} onChange={setCategoria} items={categorias}
            adding={addingCategoria} setAdding={setAddingCategoria} newVal={newCategoria} setNewVal={setNewCategoria} addType="categoria" />
          <DropdownField label="Casa" value={casa} onChange={setCasa} items={casas}
            adding={addingCasa} setAdding={setAddingCasa} newVal={newCasa} setNewVal={setNewCasa} addType="casa" />
          <input value={descricao} onChange={e => setDescricao(e.target.value)} placeholder="Descricao (ex: Anytime - Jogador)"
            style={{background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',padding:'10px 12px',borderRadius:'8px',fontSize:'14px',outline:'none'}} />
          <input type="number" step="0.01" value={odd} onChange={e => setOdd(e.target.value)} placeholder="Odd"
            style={{background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',padding:'10px 12px',borderRadius:'8px',fontSize:'14px',outline:'none'}} />
          <div style={{position:'relative'}}>
            <input type="number" step="0.01" value={valor} onChange={e => setValor(e.target.value)} placeholder="Valor (R$)"
              style={{background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',padding:'10px 12px',borderRadius:'8px',fontSize:'14px',outline:'none',width:'100%'}} />
            {stakeHint && <span style={{position:'absolute',right:'12px',top:'50%',transform:'translateY(-50%)',color:'#6366f1',fontSize:'13px',fontWeight:600,pointerEvents:'none'}}>{stakeHint}</span>}
          </div>
          <DropdownField label="Tipster" value={tipster} onChange={setTipster} items={tipsters}
            adding={addingTipster} setAdding={setAddingTipster} newVal={newTipster} setNewVal={setNewTipster} addType="tipster" />
        </div>
        <button onClick={addAposta}
          style={{background:'#6366f1',color:'#fff',border:'none',borderRadius:'8px',padding:'12px',width:'100%',marginTop:'16px',fontSize:'15px',fontWeight:600,cursor:'pointer'}}>
          Adicionar Aposta
        </button>
      </div>

      {/* Filters */}
      <div style={{display:'flex',flexWrap:'wrap',gap:'8px',marginBottom:'16px',alignItems:'center'}}>
        {filtros.map(f => (
          <button key={f} onClick={() => setFiltro(f)}
            style={{padding:'6px 16px',borderRadius:'8px',border:'none',cursor:'pointer',fontSize:'13px',fontWeight:600,
              background:filtro===f?'#6366f1':'#1e293b',color:filtro===f?'#fff':'#94a3b8'}}>
            {filtroLabels[f]}
          </button>
        ))}
        <div style={{flex:1}} />
        <button onClick={() => setMostrarGrafico(!mostrarGrafico)}
          style={{padding:'6px 16px',borderRadius:'8px',border:'none',cursor:'pointer',fontSize:'13px',fontWeight:600,
            background:mostrarGrafico?'#22c55e':'#1e293b',color:mostrarGrafico?'#fff':'#94a3b8'}}>
          {mostrarGrafico ? 'Ocultar Grafico' : 'Mostrar Grafico'}
        </button>
        <button onClick={() => setMostrarGerenciar(!mostrarGerenciar)}
          style={{padding:'6px 16px',borderRadius:'8px',border:'none',cursor:'pointer',fontSize:'13px',fontWeight:600,
            background:mostrarGerenciar?'#f59e0b':'#1e293b',color:mostrarGerenciar?'#fff':'#94a3b8'}}>
          Gerenciar Listas
        </button>
      </div>

      {filtro === 'custom' && (
        <div style={{display:'flex',gap:'12px',marginBottom:'16px',alignItems:'center'}}>
          <span style={{color:'#94a3b8',fontSize:'13px'}}>De:</span>
          <input type="date" value={filtroInicio} onChange={e => setFiltroInicio(e.target.value)}
            style={{padding:'8px',fontSize:'13px',background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',borderRadius:'8px',outline:'none'}} />
          <span style={{color:'#94a3b8',fontSize:'13px'}}>Ate:</span>
          <input type="date" value={filtroFim} onChange={e => setFiltroFim(e.target.value)}
            style={{padding:'8px',fontSize:'13px',background:'#0f172a',color:'#e2e8f0',border:'1px solid #334155',borderRadius:'8px',outline:'none'}} />
        </div>
      )}

      {/* Manage Lists */}
      {mostrarGerenciar && (
        <div style={{background:'#1e293b',borderRadius:'12px',padding:'20px',marginBottom:'20px',border:'1px solid #334155'}}>
          <h3 style={{color:'#e2e8f0',fontSize:'16px',marginBottom:'16px'}}>Gerenciar Listas</h3>
          <div style={{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(200px,1fr))',gap:'16px'}}>
            {[
              {n:'Esportes',k:'esporte',items:esportes},
              {n:'Categorias',k:'categoria',items:categorias},
              {n:'Casas',k:'casa',items:casas},
              {n:'Tipsters',k:'tipster',items:tipsters}
            ].map(l => (
              <div key={l.k} style={{background:'#0f172a',borderRadius:'8px',padding:'12px'}}>
                <div style={{fontWeight:600,color:'#94a3b8',marginBottom:'8px',fontSize:'13px'}}>{l.n}</div>
                {l.items.map(item => (
                  <div key={item} style={{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'4px 8px',borderRadius:'4px',marginBottom:'4px',background:'#1e293b'}}>
                    <span style={{fontSize:'13px',color:'#e2e8f0'}}>{item}</span>
                    <button onClick={() => removeFromList(l.k, item)}
                      style={{background:'#ef4444',color:'#fff',border:'none',borderRadius:'4px',width:'22px',height:'22px',cursor:'pointer',fontSize:'12px'}}>X</button>
                  </div>
                ))}
              </div>
            ))}
          </div>
        </div>
      )}

      {/* Chart */}
      {mostrarGrafico && chartData.length > 0 && (
        <div style={{background:'#1e293b',borderRadius:'12px',padding:'20px',marginBottom:'24px',border:'1px solid #334155'}}>
          <h3 style={{color:'#e2e8f0',fontSize:'14px',marginBottom:'12px'}}>Evolucao de Unidades</h3>
          <ResponsiveContainer width="100%" height={300}>
            <AreaChart data={chartData}>
              <defs>
                <linearGradient id="colorUnits" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="5%" stopColor="#22d3ee" stopOpacity={0.3}/>
                  <stop offset="95%" stopColor="#22d3ee" stopOpacity={0}/>
                </linearGradient>
              </defs>
              <CartesianGrid strokeDasharray="3 3" stroke="#334155" />
              <XAxis dataKey="name" tick={{fill:'#94a3b8',fontSize:11}} />
              <YAxis tick={{fill:'#94a3b8',fontSize:11}} tickFormatter={v => v + 'u'} />
              <Tooltip contentStyle={{background:'#1e293b',border:'1px solid #475569',borderRadius:'8px',color:'#e2e8f0'}}
                formatter={v => [v.toFixed(2) + 'u', 'Profit']} />
              <Area type="monotone" dataKey="units" stroke="#22d3ee" fillOpacity={1} fill="url(#colorUnits)" strokeWidth={2} />
            </AreaChart>
          </ResponsiveContainer>
        </div>
      )}

      {/* Table */}
      <div style={{overflowX:'auto',background:'#1e293b',borderRadius:'12px',border:'1px solid #334155',overflow:'hidden'}}>
        <table style={{width:'100%',borderCollapse:'collapse',fontSize:'13px'}}>
          <thead>
            <tr style={{background:'#0f172a'}}>
              {['Data','Esporte','Categoria','Casa','Descricao','Odd','Valor','Stake','Resultado','Lucro','Tipster','Acoes'].map(h => (
                <th key={h} style={{padding:'12px 10px',textAlign:'left',color:'#94a3b8',fontWeight:600,fontSize:'12px',textTransform:'uppercase',borderBottom:'1px solid #334155'}}>{h}</th>
              ))}
            </tr>
          </thead>
          <tbody>
            {lista.length === 0 ? (
              <tr><td colSpan={12} style={{padding:'40px',textAlign:'center',color:'#64748b'}}>Nenhuma aposta encontrada. Adicione sua primeira aposta acima!</td></tr>
            ) : lista.map(a => {
              const val = parseFloat(a.valor) || 0;
              const o = parseFloat(a.odd) || 0;
              const stake = (val / UNIT_VALUE).toFixed(2);
              let lucroA = 0;
              if (a.resultado === 'GREEN') lucroA = val * o - val;
              else if (a.resultado === 'RED') lucroA = -val;
              const lucroAU = (lucroA / UNIT_VALUE).toFixed(2);
              const dataFmt = a.data ? a.data.split('-').reverse().join('/') : '';
              const corCasa = casaCores[a.casa] || '#94a3b8';
              return (
                <tr key={a.id} style={{borderBottom:'1px solid #1a2332'}}>
                  <td style={{padding:'10px',color:'#e2e8f0'}}>{dataFmt}</td>
                  <td style={{padding:'10px',color:'#e2e8f0'}}>{a.esporte}</td>
                  <td style={{padding:'10px',color:'#e2e8f0'}}>{a.categoria}</td>
                  <td style={{padding:'10px',color:corCasa,fontWeight:600}}>{a.casa}</td>
                  <td style={{padding:'10px',color:'#cbd5e1',fontSize:'12px'}}>{a.descricao}</td>
                  <td style={{padding:'10px',color:'#FBBF24',fontWeight:600}}>{o.toFixed(2)}</td>
                  <td style={{padding:'10px',color:'#e2e8f0'}}>R$ {val.toFixed(2)}</td>
                  <td style={{padding:'10px',color:'#6366f1',fontWeight:600}}>{stake}u</td>
                  <td style={{padding:'10px'}}>
                    <select value={a.resultado} onChange={e => updateResult(a.id, e.target.value)}
                      style={{padding:'4px 8px',borderRadius:'6px',fontSize:'12px',fontWeight:600,border:'none',cursor:'pointer',color:'#fff',
                        background:a.resultado==='GREEN'?'#166534':a.resultado==='RED'?'#991b1b':'#334155'}}>
                      <option value="PENDING">PENDING</option>
                      <option value="GREEN">GREEN</option>
                      <option value="RED">RED</option>
                    </select>
                  </td>
                  <td style={{padding:'10px',color:lucroA>=0?'#22c55e':'#ef4444',fontWeight:600}}>
                    {a.resultado !== 'PENDING' ? (lucroA>=0?'+':'') + 'R$ ' + lucroA.toFixed(2) + ' (' + lucroAU + 'u)' : '-'}
                  </td>
                  <td style={{padding:'10px',color:'#94a3b8'}}>{a.tipster}</td>
                  <td style={{padding:'10px'}}>
                    <button onClick={() => deleteAposta(a.id)}
                      style={{background:'#dc2626',color:'#fff',border:'none',borderRadius:'6px',padding:'4px 10px',fontSize:'12px',fontWeight:600,cursor:'pointer'}}>
                      Excluir
                    </button>
                  </td>
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>

      <div style={{textAlign:'center',padding:'20px',color:'#475569',fontSize:'12px',marginTop:'20px'}}>
        Bet.Analytix Pro - Dados salvos localmente no navegador
      </div>
    </div>
  );
}

ReactDOM.render(<App />, document.getElementById('artifact_react'));
    } catch(error) {
        displayError('An error occurred while loading the application.');
    }
    window.addEventListener('error', function(event) {
        displayError(event.message, event.error?.stack);
    });
    function displayError(message, stackInfo) {
        const errorContainer = document.getElementById('error-container');
        const errorMessage = document.createElement('div');
        errorMessage.textContent = message;
        errorContainer.appendChild(errorMessage);
        if(stackInfo) {
            const stackErrorMessage = document.createElement('pre');
            stackErrorMessage.textContent = stackInfo.substring(0, 130);
            errorContainer.appendChild(stackErrorMessage);
        }
        errorContainer.style.display = 'block';
    }
    </script>
</body>
</html>